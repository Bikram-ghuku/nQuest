
<html>
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <title>Test On Going</title>
        <link rel="stylesheet" type="text/css" href="css/testOnGoing.css">
        <script type="module" src="js/testOnGoing.js"></script>
        <script>
            function  section_act(x){
                var grp_btns = document.getElementsByClassName("grp_btn")
                Array.prototype.forEach.call(grp_btns, (item)=>{
                    item.classList = "grp_btn"
                })
                document.getElementById("group_"+x).classList+=" current_active_group";


                qpaper = localStorage.getItem("qpaper")
                qpaper = JSON.parse(qpaper)
                var section = qpaper.data[x].sections

                var section_div = document.getElementsByClassName("sections")[0]
                section_div.innerHTML=""
                section.forEach((item)=>{
                    
                    section_div.innerHTML+="<div class=\"sec_btn_cover\" ><button class=\"sec_btn\" id=\"section_"+item.id+"\" onClick=\"ques_act(\'"+item.id+"\', \'"+x+"\')\">"+item.section+"</button></div>"
                })
            }

            function  ques_act(sect_act, grp_act){
                var grp_btns = document.getElementsByClassName("sec_btn")
                Array.prototype.forEach.call(grp_btns, (item)=>{
                    item.classList = "sec_btn"
                })
                document.getElementById("section_"+sect_act).classList+=" current_active_group";

                var s = sect_act.split("_")
                sect_act_index = parseInt(s[2])-1
                
                qpaper = localStorage.getItem("qpaper")
                qpaper = JSON.parse(qpaper)

                num_questions = qpaper.data[grp_act].sections[sect_act_index].num_ques
                document.getElementsByClassName("navigation")[0].innerHTML = ""

                for(i=0; i<num_questions; i++){
                    nav_elem = "<div class=\"nav_elem_cover\"><button class=\"nav_elem\">"+(i+1)+"</button></div>"
                    document.getElementsByClassName("navigation")[0].innerHTML+=nav_elem
                }

            }


        </script>
    </head>

    <body>
        <div class="top_black"></div>
        <div class="right">
            <div class="profile">
                <img src="./images/app_photo.jpg" alt="Application Photo" class="images">
                <img src="./images/reg_photo.jpg" alt="Registration Photo" class="images">
            </div>
            <div class="help">
                <div class="h_ele_t">
                    <div class="ans">0</div> Answered
                </div>
                <div class="h_ele_t">
                    <div class="nans">0</div> Not Answered
                </div>
                <div class="h_ele">
                    <div class="nvisit">0</div> Not Visited
                </div>
                <div class="h_ele"> 
                    <div class="mfr">0</div> Marked For review
                </div>
                <div class="h_ele">
                     <div class="amfr">0</div> Answered & Marked For review
                </div>
            </div>
            <div class="sep_top_bot"></div>
            <div class="navigation"></div>
            <div class="btn_cont">
                <button class="submit">SUBMIT</button>
            </div>
        </div>
        <div class="main_area">
            <div class="groups">
            </div>
            <div class="sec_time">
                <div class="timer" style="align-items: end;"></div>
                
            </div>
            <div class="sections">
            </div>
            <div class="q_info">
            </div>
            <div class="lang_sel">
            </div>
            <div class="q_no">
                Question No. 1
            </div>
            <div class="q_area">
                <div class="watermarked" data-watermark=""></div>
                <script>        
                    Array.from(document.querySelectorAll('.watermarked')).forEach(function(el) {
                        el.dataset.watermark = (localStorage.getItem("watermark_id") + '  ').repeat(10000);
                    });
                 </script>
                <div class="q_text">

                </div>
                
            </div>
            <div class="nav_btns">
                <button class="review">Mark for review and next</button>
                <button class="clr_res">Clear Response</button>
                <div class="save_next_btn">
                    <button class="next">Save and Next</button>
                </div>
            </div>
        </div>


    </body>

</html>